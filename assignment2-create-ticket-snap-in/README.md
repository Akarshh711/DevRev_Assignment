# Automatic Timely Ticket Creation Snap-in

## Introduction

The Automatic Timely Ticket Creation Snap-in automates the process of creating a new ticket in the DevRev platform every 10 minutes. This ensures timely handling of tasks and issues, improving efficiency and productivity.

## Installation Guide

### Prerequisites
- DevRev CLI
- jq
- DevRev SDK

### Steps
## Installation Steps

### 1. Authenticate with DevRev

To authenticate, run the following command:

```bash
devrev profiles authenticate -o <dev-org-slug> -u <youremail@yourdomain.com>
```
### 2. Initialize a Snap-in Template
To initialize a snap-in template, run:

```bash
devrev snap_in_version init
```
### 3. Create a Snap-in Package
To create a snap-in package, run:

```bash

devrev snap_in_package create-one --slug my-first-snap-in | jq .
```
### 4. Create a Snap-in Version
To create a snap-in version, run:

```bash

devrev snap_in_version create-one --path ./devrev-snaps-typescript-template | jq .

```

### 5. Install a Snap-in from a Snap-in Version
To install a snap-in from a snap-in version, run:

```

devrev snap_in draft
```
### 6. Configure the Snap-in
Access snap-in configuration using the URL generated by the draft command or navigate to the snap-ins page in the DevRev app. Follow the configuration steps as required.

### 7. Deploy the Snap-in
Once configuration is complete, deploy the snap-in by clicking the "Deploy snap-in" button in the UI.

## Functionality

### Trigger
The snap-in is triggered every 10 minutes using the `timer-events` event source with a CRON expression (`*/10 * * * *`).

### Action
When triggered, the snap-in creates a new ticket in the DevRev platform using the DevRev TypeScript SDK. The ticket is named with the current date and time, and a default message is added to the ticket body.

## Updating the Code

### Manifest Update
Update the `manifest.yaml` file to reflect the objective by configuring the event source, function name, and automation details.

### Code Changes
Update the `index.ts` file in the `src/functions/ticket_creator` directory to customize the ticket creation behavior. Import the DevRev TypeScript SDK and modify the `run` function to create tickets with desired parameters.

## Event Received by the Snap-in Function

The event received by the snap-in function contains payload, context, and execution metadata. Key fields include `devrev_endpoint` for API calls and `service_account_token` for authentication.

## Deploying the Snap-in

Once satisfied with code changes, build and package the snap-in, then deploy it to your DevRev organization by creating a new snap-in version.

## Conclusion

By following these steps, you can deploy the Automatic Timely Ticket Creation Snap-in to your DevRev organization and automate ticket creation, improving task management and issue resolution efficiency.


